<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Modules notesdbutil Classes Artifactnotesdb~NotesDB Modules Classes Artifact NotesDB × Search results Close Documentation generated by JSDoc 3.4.3 on February 17th 2017, 8:46:44 pm using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Modules notesdbutil Classes Artifactnotesdb~NotesDB Classes Classes Artifact NotesDB × Search results Close Documentation generated by JSDoc 3.4.3 on February 17th 2017, 8:46:44 pm using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Modules notesdbutil Classes Artifactnotesdb~NotesDB notesdb A text file notes database The text &quot;database&quot; is just a data structure (schema) and a set of functions to manipulate a structured directory. The &quot;database&quot; is referred to as a binder. The binder contains sections. Each of the sections contain notebooks. Each notebook contains artifacts (files). The general structure of the binder is: {binder}/ {section}/ {notebook 1}/ - {artifact 1} - {artifact 2} - {artifact N} {notebook 2}/ - {artifact 1} - {artifact 2} - {artifact N} {section N}/ ... The main component is the artifact. These are the text files. The other items in the structure above are basic file directory strutures. Features TODO InstallationTo install as a global package and cli: $ npm install --global notesdbTo install as an application dependency with cli: $ npm install --save-dev notesdbUsageCreating an InstanceTo construct a new instance: const NotesDB = require('notesdb').NotesDB; let adb = new NotesDB();Loads a default instance of the schema. This example contains no configuration options. It will use the default configuration directory of ~/.notesdb. The configuration file for this instance is saved in ~/.notesdb/config.json. The log file for the database is saved within this directory in ~/notesdb/notesdb.log. The default name of the database is adb (the name of the binder) and is saved in ~/.notesdb/adb. This is where all sections, notebooks, and artifacts will be saved. An instance can be created with a new set of defaults: const NotesDB = require('notesdb').NotesDB; let adb = new NotesDB({ binderName: 'sampledb', root: '~/mydb' });This will create a new binder with the name sampledb. It also changes where the configuration will be saved root option. This is the default location where the schema will be stored. If the only the root is specified, then the configuration is also located in this directory. This database is saved in ~/mydb/sampledb. The configuration and the database can be separated: const NotesDB = require('notesdb').NotesDB; let adb = new NotesDB({ binderName: 'sampledb', configRoot: '~/mydbconfig', root: '~/mydb' });This will create the database in ~/mydb/sampledb and the configuration/logs are stored in ~/mydbconfig. #### APIThe API is generated with JSDoc. It can be found within the docs directory for the project. It can be generated with npm run docs. × Search results Close Documentation generated by JSDoc 3.4.3 on February 17th 2017, 8:46:44 pm using the DocStrap template. "},"Artifact.html":{"id":"Artifact.html","title":"Class: Artifact","body":" Documentation Modules notesdbutil Classes Artifactnotesdb~NotesDB Class: Artifact Artifact A container class that holds the information for a single artifact within the database. new Artifact() Members buffer Takes the current input &quot;buf&quot;, converts it to a buffer, and returns it Methods &lt;static&gt; factory(mode [, opts]) A factory method for creating different types of artifacts. The mode determines what type of Artifact object will be factory and returned. The types include: all|default - use a object with properties for each field to factory the object and set its properties treeitem - represents an object that can be parsed in the treetitem format of {section}/{notebook}/{filename} empty - just return an empty object. This is the default. Parameters: Name Type Argument Description mode string tells the factory what to make opts Object | string &lt;optional&gt; parameters to the facility that will make the object. Returns: a newly constructed artifact object. Type Artifact &lt;static&gt; isType(search) Takes artifact search information and builds the type id Parameters: Name Type Description search IArtifactSearch an object that contains the current Artifact parameters used to build the type id. Returns: the id associated with this search. Type ArtifactType × Search results Close Documentation generated by JSDoc 3.4.3 on February 17th 2017, 8:46:44 pm using the DocStrap template. "},"module-notesdb.html":{"id":"module-notesdb.html","title":"Module: notesdb","body":" Documentation Modules notesdbutil Classes Artifactnotesdb~NotesDB Module: notesdb This module contains all of the code to create and manipulate the application database (text) structure. Classes NotesDB × Search results Close Documentation generated by JSDoc 3.4.3 on February 17th 2017, 8:46:44 pm using the DocStrap template. "},"module-notesdb-NotesDB.html":{"id":"module-notesdb-NotesDB.html","title":"Class: NotesDB","body":" Documentation Modules notesdbutil Classes Artifactnotesdb~NotesDB Class: NotesDB notesdb~ NotesDB Creates an instance of the text database class new NotesDB( [opts]) Creates the instance of the class and loads or defines the initial configuration parameters. Parameters: Name Type Argument Description opts object &lt;optional&gt; optional parameters - `binderName {string} default='adb'`: The name of the binder when a new database is being created. This is optional. When loading an existing database the name of the binder is retrieved as part of the configuration. - `configRoot {string} default='~/.notesdb'`: The name of the configuration directory where the configuration and log files are located. - `env {object}`: a copy of the current runtime environment variables. This allows for the environment to be changed before instantiating the class (for multiple instances and testing). - `ignore {Array}`: the list of file names that this database will ignore when parsing/processing artifacts. - `root {string} default='~/.notesdb'`: The path location to the database. This is optional and only needed when creating a new database. - `saveInterval {number} default='5000'`: determines how often a save check is performed. The schema is scanned and saved very N millis. Methods add(artifact, area, self) Creates the requested artifact within the database. This will attempt to create each section, notebook, and document given. If the item is empty, then it is ignored. Parameters: Name Type Description artifact Artifact the artifact object to create (see above) area string the namespace area within the schema object to search. There are two areas: notes &amp; trash. self NotesDB a reference to the notes database instance Returns: a javascript promise object Type Promise create(schema, area, self) Creates new sections within a binder. Parameters: Name Type Description schema Array | string a list of directories (sections) under this binder location. Each of these directories will be created under this binder unless they already exist. area string the namespace area within the schema object to search. There are two areas: notes &amp; trash. self NotesDB a reference to the notes database instance Returns: a javascript promise object Type Promise get(opts, area, self) Retrieves an artifact from the schema. If it exists, then it is returned by the promise. If it is not found, then an error will be thrown. If the artifact has never been loaded before, then it is read from the filesystem when this request is made. When the request is a section or notebook a temporary artifact object is created and returned. Parameters: Name Type Description opts IArtifactSearch the section/notebook/filename to search for within the schema. area string the namespace area within the schema object to search. There are two areas: notes &amp; trash. self NotesDB a reference to the notes database instance Returns: a javascript promise object. Type Promise hasArtifact(search, area, self) Checks to see if a document is in the repository by name, notebook and section. Parameters: Name Type Description search IArtifactSearch an object that represents the item to find in the schema. area string the namespace area within the schema object to search. There are two areas: notes &amp; trash. self NotesDB a reference to the notes database instance Returns: true if the artifact is found, otherwise false Type boolean hasNotebook(search, area, self) Checks the given section for the existence of a notebook by name. Parameters: Name Type Description search IArtifactSearch an object that represents the item to find in the schema. area string the namespace area within the schema object to search. There are two areas: notes &amp; trash. self NotesDB a reference to the notes database instance Returns: true if the notebook is found, otherwise false Type boolean hasSection(search, area, self) Checks the current schema for the existence of a section. Parameters: Name Type Description search IArtifactSearch an object that represents the item to find in the schema. area string the namespace area within the schema object to search. There are two areas: notes &amp; trash. self NotesDB a reference to the notes database instance Returns: true if the section is found, otherwise false. Type boolean notebooks(sectionName, area, self) Enumerates the list of notebooks in a section from the schema. returns {Array} a list of the notebooks for a section Parameters: Name Type Description sectionName string the name of the section where the notebooks are located. area string the namespace area within the schema object to search. There are two areas: notes &amp; trash. self NotesDB a reference to the notes database instance reload(area, self) Scans the current repository directory to rebuild the schema. This only needs to be done if a file/artifact is added to the directory structure after the instance has been loaded. Parameters: Name Type Description area string the namespace area within the schema object to search. There are two areas: notes &amp; trash. self NotesDB a reference to the notes database instance Returns: a javascript promise object. Type Promise remove(opts, area, self) Moves an artifact from it's current directory to the &quot;Trash&quot; folder. It is not removed until the emptyTrash() method is called. Parameters: Name Type Description opts IArtifactSearch the section/notebook/filename to remove for within the schema. area string the namespace area within the schema object to search. There are two areas: notes &amp; trash. self NotesDB a reference to the notes database instance restore(opts, self) Takes an item from the trash and puts it back into the schema. If the item is already in the schema, then it appends a timestamp to the name of the item that is being restored. Parameters: Name Type Description opts IArtifactSearch The section/notebook/filename to restore self NotesDB a reference to the notes database instance save(self) User requested save function. Parameters: Name Type Description self NotesDB a reference to the notes database instance Returns: a javascript promise object Type Promise sections(area, self) Enumerates the list of sections from the schema. Parameters: Name Type Description area string the namespace area within the schema object to search. There are two areas: notes &amp; trash. self NotesDB a reference to the notes database instance Returns: a future promise to return the list Type Array shutdown(self) Called when the database is no longer needed. This will cleanup operations and shutdown the intervals. Parameters: Name Type Description self Returns: a javascript promise object Type Promise toString(self) Converts the internal structures to a string and returns it. Parameters: Name Type Description self NotesDB a reference to the notes database instance Returns: a string that shows the configuration and schema for the database. Type string tree(directory, self) Returns an array that represents a &quot;treeview&quot; of the current notes database. These represent relative paths from the root of the database. Parameters: Name Type Description directory string the directory where the tree will be retrieved It is a relative path from the root of the schema. self NotesDB a reference to the NotesDB instance Returns: a list of nodes/directories in the database tree. Type Array validate(self) Checks the binder configuration to ensure that it is valid Parameters: Name Type Description self NotesDB a reference to the NotesDB instance × Search results Close Documentation generated by JSDoc 3.4.3 on February 17th 2017, 8:46:44 pm using the DocStrap template. "},"module-util.html":{"id":"module-util.html","title":"Module: util","body":" Documentation Modules notesdbutil Classes Artifactnotesdb~NotesDB Module: util This module contains helper functions used in the txtdb. They represent private functions that are not exposed as part of the main module. Methods &lt;inner&gt; addConsole(logger) Adds a console logging appender to to the logging facility used by the TxtDB class. It checks to see if there is already a console logger in the config. If it is already there, then it is not added again. Parameters: Name Type Description logger Logger a reference to the log4j object. &lt;inner&gt; getDirectories(src) Retrieves a list of directoreis from the given input path. Parameters: Name Type Description src string the source directory to search for sub directories Returns: a list of directories. Type Array &lt;inner&gt; getUUID(nodash) Retrieves a version 4 uuid. It can be with or without the dash characters. Parameters: Name Type Default Description nodash boolean false if true, the dashes are removed, otherwise just a v4 uuid is created. Returns: a v4 uuid Type string × Search results Close Documentation generated by JSDoc 3.4.3 on February 17th 2017, 8:46:44 pm using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
